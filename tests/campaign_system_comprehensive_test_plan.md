# 行銷專案管理系統 - 完整測試計畫

## 測試概述

此測試計畫涵蓋行銷專案管理系統的完整功能驗證，包括後端 API、前端介面、以及端到端的業務流程測試。

### 測試環境
- 後端服務：http://localhost:8001
- 前端服務：http://localhost:3000  
- 測試時間：2024年12月
- 測試範圍：行銷專案管理系統完整功能

## 一、後端 API 測試

### 1.1 行銷專案管理 API (Campaigns)

#### 1.1.1 專案 CRUD 操作
- [ ] **GET /api/campaigns** - 獲取專案列表
  - 測試分頁功能 (skip, limit)
  - 測試搜尋功能 (按名稱搜尋)
  - 測試篩選功能 (狀態篩選、啟用狀態篩選)
  - 驗證回應格式和資料完整性

- [ ] **POST /api/campaigns** - 創建新專案
  - 測試所有必填欄位驗證
  - 測試優惠碼前綴唯一性
  - 測試時間範圍驗證
  - 測試折扣設定驗證

- [ ] **GET /api/campaigns/{id}** - 獲取單一專案
  - 測試有效 ID 查詢
  - 測試無效 ID 處理
  - 驗證回應資料完整性

- [ ] **PUT /api/campaigns/{id}** - 更新專案
  - 測試部分欄位更新
  - 測試狀態轉換邏輯
  - 測試更新驗證規則

- [ ] **DELETE /api/campaigns/{id}** - 刪除專案
  - 測試有效刪除
  - 測試刪除限制 (如有關聯優惠券)

#### 1.1.2 優惠券管理
- [ ] **POST /api/campaigns/{id}/generate-coupons** - 生成優惠券
  - 測試批次生成功能
  - 測試數量限制控制
  - 測試優惠碼唯一性
  - 驗證生成統計更新

- [ ] **POST /api/campaigns/{id}/distribute-coupons** - 分發優惠券
  - 測試批次分發功能
  - 測試用戶驗證
  - 測試分發記錄建立
  - 驗證分發統計更新

- [ ] **GET /api/campaigns/{id}/coupons** - 獲取專案優惠券
  - 測試優惠券列表查詢
  - 測試分頁功能
  - 驗證關聯資料正確性

#### 1.1.3 統計功能
- [ ] **GET /api/campaigns/{id}/stats** - 獲取專案統計
  - 測試生成率、分發率、使用率計算
  - 測試轉換率統計
  - 驗證統計資料準確性

- [ ] **GET /api/campaigns/stats/overview** - 獲取總覽統計
  - 測試全系統統計
  - 測試平均使用率計算
  - 驗證總數統計正確性

#### 1.1.4 狀態管理
- [ ] **PATCH /api/campaigns/{id}/status** - 更新專案狀態
  - 測試狀態轉換邏輯
  - 測試狀態驗證規則
  - 測試業務邏輯限制

### 1.2 優惠券管理 API (Coupons)

#### 1.2.1 優惠券基本操作
- [ ] **POST /api/coupons** - 創建優惠券
- [ ] **GET /api/coupons** - 獲取優惠券列表
- [ ] **GET /api/coupons/{id}** - 獲取單一優惠券
- [ ] **PUT /api/coupons/{id}** - 更新優惠券
- [ ] **DELETE /api/coupons/{id}** - 刪除優惠券

#### 1.2.2 優惠券使用驗證
- [ ] **POST /api/coupons/validate** - 驗證優惠券
  - 測試有效性檢查
  - 測試使用條件驗證
  - 測試折扣計算正確性

## 二、前端介面測試

### 2.1 登入和權限控制
- [ ] **管理員登入**
  - 測試登入流程
  - 測試權限驗證
  - 測試 JWT token 機制

### 2.2 行銷專案管理介面

#### 2.2.1 專案列表頁面
- [ ] **頁面載入**
  - 驗證統計卡片顯示
  - 驗證專案列表載入
  - 測試分頁功能

- [ ] **搜尋和篩選**
  - 測試名稱搜尋功能
  - 測試狀態篩選
  - 測試啟用狀態篩選
  - 測試篩選結果正確性

- [ ] **專案操作**
  - 測試「創建專案」按鈕
  - 測試專案編輯功能
  - 測試專案刪除功能
  - 測試狀態切換功能

#### 2.2.2 專案創建/編輯 Modal
- [ ] **表單驗證**
  - 測試所有必填欄位驗證
  - 測試時間範圍驗證
  - 測試折扣值驗證
  - 測試前綴唯一性驗證

- [ ] **資料提交**
  - 測試創建專案流程
  - 測試編輯專案流程
  - 測試表單重置功能
  - 驗證成功/錯誤訊息顯示

#### 2.2.3 優惠券管理功能
- [ ] **生成優惠券**
  - 測試批次生成流程
  - 測試數量設定
  - 驗證生成結果顯示

- [ ] **分發優惠券**
  - 測試用戶選擇
  - 測試批次分發
  - 驗證分發記錄

- [ ] **統計查看**
  - 測試統計資料顯示
  - 測試圖表/進度條顯示
  - 驗證資料準確性

### 2.3 介面互動性測試
- [ ] **響應式設計**
  - 測試不同螢幕尺寸適配
  - 測試行動裝置相容性

- [ ] **用戶體驗**
  - 測試載入狀態顯示
  - 測試錯誤處理
  - 測試成功提示
  - 測試操作確認對話框

## 三、端到端業務流程測試

### 3.1 完整行銷專案流程
1. **專案創建**
   - [ ] 創建新的行銷專案
   - [ ] 設定所有必要參數
   - [ ] 驗證專案狀態為「草稿」

2. **優惠券生成**
   - [ ] 生成初始優惠券
   - [ ] 驗證優惠碼格式和唯一性
   - [ ] 檢查統計資料更新

3. **專案啟動**
   - [ ] 將專案狀態改為「進行中」
   - [ ] 驗證狀態轉換成功
   - [ ] 檢查優惠券啟用狀態

4. **優惠券分發**
   - [ ] 分發優惠券給測試用戶
   - [ ] 驗證分發記錄建立
   - [ ] 檢查分發統計更新

5. **使用情況追蹤**
   - [ ] 模擬優惠券使用
   - [ ] 驗證使用記錄建立
   - [ ] 檢查使用統計更新

6. **專案管理**
   - [ ] 測試專案暫停/恢復
   - [ ] 測試專案完成流程
   - [ ] 驗證最終統計報表

### 3.2 異常處理測試
- [ ] **網絡錯誤處理**
  - 測試 API 請求失敗處理
  - 測試網絡中斷恢復

- [ ] **資料一致性**
  - 測試同時操作衝突處理
  - 測試資料同步機制

- [ ] **邊界條件**
  - 測試最大值限制
  - 測試空資料處理
  - 測試特殊字符處理

## 四、效能測試

### 4.1 載入效能
- [ ] **頁面載入時間**
  - 測試首次載入時間
  - 測試後續導航速度

- [ ] **API 回應時間**
  - 測試大量資料載入
  - 測試複雜查詢效能

### 4.2 併發測試
- [ ] **多用戶同時操作**
  - 測試多個管理員同時使用
  - 測試大量優惠券生成

## 五、安全性測試

### 5.1 權限控制
- [ ] **身份驗證**
  - 測試未登入用戶存取限制
  - 測試 token 過期處理

- [ ] **授權驗證**
  - 測試非管理員用戶限制
  - 測試 API 權限控制

### 5.2 資料安全
- [ ] **輸入驗證**
  - 測試 SQL 注入防護
  - 測試 XSS 防護
  - 測試資料格式驗證

## 六、相容性測試

### 6.1 瀏覽器相容性
- [ ] **主流瀏覽器**
  - Chrome (最新版本)
  - Firefox (最新版本)  
  - Safari (最新版本)
  - Edge (最新版本)

### 6.2 裝置相容性
- [ ] **桌面裝置**
  - 不同解析度測試
  - 不同作業系統測試

- [ ] **行動裝置**
  - 手機瀏覽器測試
  - 平板瀏覽器測試

## 七、測試結果記錄

### 測試執行記錄
| 測試項目 | 執行狀態 | 通過/失敗 | 備註 |
|---------|---------|----------|------|
| | | | |

### 缺陷追蹤
| 缺陷ID | 描述 | 嚴重程度 | 狀態 | 修復說明 |
|--------|------|----------|------|----------|
| | | | | |

### 測試總結
- **總測試項目**：
- **通過項目**：
- **失敗項目**：
- **通過率**：
- **主要問題**：
- **建議改進**：

## 八、測試環境需求

### 8.1 技術環境
- Python 3.12+ 虛擬環境
- Node.js 和 npm
- PostgreSQL 或 SQLite 資料庫
- 現代瀏覽器

### 8.2 測試資料
- 管理員測試帳號
- 一般用戶測試帳號
- 測試商品資料
- 測試訂單資料

### 8.3 測試工具
- Playwright (瀏覽器自動化)
- curl (API 測試)
- 瀏覽器開發者工具
- Postman (可選，API 測試)

---

**測試計畫建立日期**：2024年12月  
**測試負責人**：AI Assistant  
**測試計畫版本**：1.0 