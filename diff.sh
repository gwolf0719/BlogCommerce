#!/bin/bash

# ==============================================================================
# 功能：執行 git diff 並將結果儲存到以當前時間戳記命名的檔案中。
# 用法：在您的 git 專案根目錄下執行 ./create_diff.sh
# ==============================================================================

# 1. 取得當前時間，並格式化成適合檔名的格式 (YYYYMMDD_HHMMSS)
#    %Y: 四位數年份 (2025)
#    %m: 兩位數月份 (07)
#    %d: 兩位數日期 (14)
#    %H: 兩位數小時 (24小時制)
#    %M: 兩位數分鐘
#    %S: 兩位數秒鐘
TIMESTAMP=$(date +%Y%m%d_%H%M%S)

# 2. 組合檔案名稱
FILENAME="diff_${TIMESTAMP}.diff"

# 3. 執行 git diff 並將標準輸出重新導向 (>) 到檔案中
#    使用 "$FILENAME" 是個好習慣，可以避免檔名中有特殊字元時出錯。
git diff > "$FILENAME"

# 4. 在終端機印出成功訊息，讓使用者知道檔案已產生
echo "✅ Git diff 成功儲存至: $FILENAME"