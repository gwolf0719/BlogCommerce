<template>
  <div class="products-page">
    <!-- È†ÅÈù¢Ê®ôÈ°å -->
    <a-page-header 
      title="ÂïÜÂìÅÁÆ°ÁêÜ" 
      sub-title="ÁÆ°ÁêÜÊÇ®ÁöÑÈõªÂïÜÂïÜÂìÅÂ∫´Â≠ò"
      class="page-header"
    >
      <template #extra>
        <a-button type="primary" @click="showCreateModal" size="large">
          <PlusOutlined /> Êñ∞Â¢ûÂïÜÂìÅ
        </a-button>
      </template>
    </a-page-header>

    <!-- Áµ±Ë®àÂç°Áâá -->
    <a-row :gutter="24" class="stats-row">
      <a-col :span="6">
        <a-card>
          <a-statistic
            title="Á∏ΩÂïÜÂìÅÊï∏"
            :value="products.length"
            prefix="üõçÔ∏è"
            :value-style="{ color: '#1890ff' }"
          />
        </a-card>
      </a-col>
      <a-col :span="6">
        <a-card>
          <a-statistic
            title="ÂïüÁî®ÂïÜÂìÅ"
            :value="activeCount"
            prefix="‚úÖ"
            :value-style="{ color: '#52c41a' }"
          />
        </a-card>
      </a-col>
      <a-col :span="6">
        <a-card>
          <a-statistic
            title="Êé®Ëñ¶ÂïÜÂìÅ"
            :value="featuredCount"
            prefix="‚≠ê"
            :value-style="{ color: '#faad14' }"
          />
        </a-card>
      </a-col>
      <a-col :span="6">
        <a-card>
          <a-statistic
            title="Á∏ΩÂ∫´Â≠òÂÄº"
            :value="totalStockValue"
            prefix="üí∞"
            :precision="2"
            :value-style="{ color: '#722ed1' }"
          />
        </a-card>
      </a-col>
    </a-row>

    <!-- ÊêúÂ∞ãÂíåÁØ©ÈÅ∏ÂçÄÂ°ä -->
    <a-card title="ÊêúÂ∞ãËàáÁØ©ÈÅ∏" class="filter-card">
      <a-form layout="inline" :model="searchForm">
        <a-form-item label="ÊêúÂ∞ãÂïÜÂìÅ">
          <a-input-search
            v-model:value="searchForm.search"
            placeholder="ÊêúÂ∞ãÂïÜÂìÅÂêçÁ®±ÊàñÊèèËø∞"
            allow-clear
            enter-button
            @search="handleSearch"
            style="width: 280px"
          />
        </a-form-item>
        
        <a-form-item label="ÂïÜÂìÅÁãÄÊÖã">
          <a-select
            v-model:value="searchForm.status"
            placeholder="ÈÅ∏ÊìáÁãÄÊÖã"
            style="width: 140px"
            allow-clear
            @change="handleSearch"
          >
            <a-select-option value="active">
              <a-tag color="green" size="small">ÂïüÁî®</a-tag>
            </a-select-option>
            <a-select-option value="inactive">
              <a-tag color="red" size="small">ÂÅúÁî®</a-tag>
            </a-select-option>
          </a-select>
        </a-form-item>
        
        <a-form-item label="Êé®Ëñ¶ÁØ©ÈÅ∏">
          <a-select
            v-model:value="searchForm.featured"
            placeholder="Êé®Ëñ¶ÁãÄÊÖã"
            style="width: 120px"
            allow-clear
            @change="handleSearch"
          >
            <a-select-option value="true">Êé®Ëñ¶</a-select-option>
            <a-select-option value="false">‰∏ÄËà¨</a-select-option>
          </a-select>
        </a-form-item>
        
        <a-form-item>
          <a-button @click="resetFilters" icon="reload">ÈáçÁΩÆ</a-button>
        </a-form-item>
      </a-form>
    </a-card>

    <!-- ÂïÜÂìÅÂàóË°®ÂçÄÂ°ä -->
    <a-card title="ÂïÜÂìÅÂàóË°®" class="table-card">
      <a-table
        :columns="columns"
        :data-source="products"
        :loading="loading"
        :pagination="paginationConfig"
        @change="handleTableChange"
        row-key="id"
        :scroll="{ x: 1000 }"
      >
        <template #bodyCell="{ column, record }">
          <template v-if="column.key === 'image'">
            <div class="product-image">
              <a-image
                :src="record.featured_image || '/static/images/default-product.jpg'"
                :alt="record.name"
                width="60"
                height="60"
                :preview="true"
                fallback="/static/images/default-product.jpg"
              />
            </div>
          </template>

          <template v-if="column.key === 'view_count'">
            <div class="view-count-cell">
              <a-statistic 
                :value="record.view_count || 0" 
                :value-style="{ fontSize: '14px' }"
              >
                <template #suffix>
                  <span style="font-size: 12px; color: #999;">Ê¨°</span>
                </template>
              </a-statistic>
            </div>
          </template>

          <template v-if="column.key === 'name'">
            <div class="product-info">
              <div class="product-name">{{ record.name }}</div>
              <div class="product-sku" v-if="record.sku">
                <a-tag size="small">SKU: {{ record.sku }}</a-tag>
              </div>
              <div class="product-description" v-if="record.short_description">
                {{ record.short_description.substring(0, 50) }}{{ record.short_description.length > 50 ? '...' : '' }}
              </div>
            </div>
          </template>

          <template v-if="column.key === 'featured'">
            <a-tag :color="record.is_featured ? 'gold' : 'default'" size="default">
              <template #icon>
                <span>{{ record.is_featured ? '‚≠ê' : 'üì¶' }}</span>
              </template>
              {{ record.is_featured ? 'Êé®Ëñ¶' : '‰∏ÄËà¨' }}
            </a-tag>
          </template>

          <template v-if="column.key === 'status'">
            <a-tag :color="record.is_active ? 'green' : 'red'" size="default">
              <template #icon>
                <span>{{ record.is_active ? '‚úÖ' : '‚ùå' }}</span>
              </template>
              {{ record.is_active ? 'ÂïüÁî®' : 'ÂÅúÁî®' }}
            </a-tag>
          </template>

          <template v-if="column.key === 'price'">
            <div class="price-cell">
              <div v-if="record.sale_price" class="sale-price">
                ÁâπÂÉπ: ${{ record.sale_price }}
              </div>
              <div :class="{ 'original-price': record.sale_price, 'regular-price': !record.sale_price }">
                {{ record.sale_price ? 'ÂéüÂÉπ:' : 'ÂÉπÊ†º:' }} ${{ record.price }}
              </div>
            </div>
          </template>

          <template v-if="column.key === 'stock'">
            <div class="stock-cell">
              <a-tag 
                :color="getStockColor(record.stock_quantity)"
                size="default"
              >
                {{ record.stock_quantity }} ‰ª∂
              </a-tag>
            </div>
          </template>

          <template v-if="column.key === 'actions'">
            <a-space>
              <a-button size="small" type="primary" @click="editProduct(record)">
                <EditOutlined /> Á∑®ËºØ
              </a-button>
              <a-popconfirm
                title="Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄôÂÄãÂïÜÂìÅÂóéÔºü"
                description="Ê≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Âæ©ÔºåË´ãË¨πÊÖéÊìç‰Ωú"
                @confirm="deleteProduct(record.id)"
                ok-text="Á¢∫ÂÆö"
                cancel-text="ÂèñÊ∂à"
              >
                <a-button size="small" danger>
                  <DeleteOutlined /> Âà™Èô§
                </a-button>
              </a-popconfirm>
            </a-space>
          </template>
        </template>
      </a-table>
    </a-card>

    <!-- Êñ∞Â¢û/Á∑®ËºØÂïÜÂìÅÂ∞çË©±Ê°Ü -->
    <a-modal
      v-model:open="modalVisible"
      :title="isEditing ? 'Á∑®ËºØÂïÜÂìÅ' : 'Êñ∞Â¢ûÂïÜÂìÅ'"
      width="1200px"
      :footer="null"
      @cancel="handleCancel"
      class="product-modal"
    >
      <a-form
        :model="form"
        :rules="rules"
        :label-col="{ span: 4 }"
        :wrapper-col="{ span: 20 }"
        ref="formRef"
        layout="horizontal"
      >
        <!-- Âü∫Êú¨‰ø°ÊÅØ -->
        <a-card title="Âü∫Êú¨‰ø°ÊÅØ" size="small" class="form-card">
          <a-row :gutter="24">
            <a-col :span="12">
              <a-form-item label="ÂïÜÂìÅÂêçÁ®±" name="name">
                <a-input 
                  v-model:value="form.name" 
                  placeholder="Ë´ãËº∏ÂÖ•ÂïÜÂìÅÂêçÁ®±"
                  show-count
                  :maxlength="100"
                />
              </a-form-item>
            </a-col>
            <a-col :span="12">
              <a-form-item label="ÂïÜÂìÅÁ∑®Ëôü" name="sku">
                <a-input 
                  v-model:value="form.sku" 
                  placeholder="ÂèØÈÅ∏ÔºåÁî®ÊñºÂ∫´Â≠òÁÆ°ÁêÜ"
                />
              </a-form-item>
            </a-col>
          </a-row>

          <a-form-item label="ÂïÜÂìÅÊèèËø∞" name="description">
            <a-textarea 
              v-model:value="form.description" 
              :rows="4" 
              placeholder="Ë©≥Á¥∞ÂïÜÂìÅÊèèËø∞"
              show-count
              :maxlength="1000"
            />
          </a-form-item>

          <a-form-item label="Á∞°Áü≠ÊèèËø∞" name="short_description">
            <a-textarea 
              v-model:value="form.short_description" 
              :rows="2" 
              placeholder="Áî®ÊñºÂïÜÂìÅÂàóË°®È°ØÁ§∫ÁöÑÁ∞°Áü≠ÊèèËø∞"
              show-count
              :maxlength="200"
            />
          </a-form-item>
        </a-card>

        <!-- ÂÉπÊ†ºÂ∫´Â≠ò -->
        <a-card title="ÂÉπÊ†ºËàáÂ∫´Â≠ò" size="small" class="form-card">
          <a-row :gutter="24">
            <a-col :span="8">
              <a-form-item label="ÂïÜÂìÅÂÉπÊ†º" name="price" :label-col="{ span: 8 }" :wrapper-col="{ span: 16 }">
                <a-input-number
                  v-model:value="form.price"
                  :min="0"
                  :precision="2"
                  style="width: 100%"
                  placeholder="0.00"
                  addon-before="$"
                />
              </a-form-item>
            </a-col>
            <a-col :span="8">
              <a-form-item label="ÁâπÂÉπ" name="sale_price" :label-col="{ span: 8 }" :wrapper-col="{ span: 16 }">
                <a-input-number
                  v-model:value="form.sale_price"
                  :min="0"
                  :precision="2"
                  style="width: 100%"
                  placeholder="ÂèØÈÅ∏"
                  addon-before="$"
                />
              </a-form-item>
            </a-col>
            <a-col :span="8">
              <a-form-item label="Â∫´Â≠òÊï∏Èáè" name="stock_quantity" :label-col="{ span: 8 }" :wrapper-col="{ span: 16 }">
                <a-input-number
                  v-model:value="form.stock_quantity"
                  :min="0"
                  style="width: 100%"
                  placeholder="0"
                />
              </a-form-item>
            </a-col>
          </a-row>
        </a-card>

        <!-- ÂúñÁâáË®≠ÂÆö -->
        <a-card title="ÂúñÁâáË®≠ÂÆö" size="small" class="form-card">
          <a-form-item label="ÁâπËâ≤ÂúñÁâá" name="featured_image">
            <UploadImage v-model="form.featured_image" />
          </a-form-item>

          <a-form-item label="Áõ∏ÂÜäÂúñÁâá" name="gallery_images">
            <a-textarea
              v-model:value="form.gallery_images"
              placeholder='Â§öÂÄãÂúñÁâáURLÔºåJSONÊ†ºÂºèÔºö["url1", "url2"]'
              :rows="2"
            />
            <div class="form-help-text">
              <small class="text-gray-500">Ë´ãËº∏ÂÖ•JSONÊ†ºÂºèÁöÑÂúñÁâáURLÈô£Âàó</small>
            </div>
          </a-form-item>
        </a-card>

        <!-- ÂïÜÂìÅË®≠ÂÆö -->
        <a-card title="ÂïÜÂìÅË®≠ÂÆö" size="small" class="form-card">
          <a-row :gutter="24">
            <a-col :span="12">
              <a-form-item name="is_active" :wrapper-col="{ offset: 4, span: 20 }">
                <a-checkbox v-model:checked="form.is_active" size="large">
                  <ShopOutlined /> ÂïüÁî®ÂïÜÂìÅÔºàÂú®ÂâçÂè∞È°ØÁ§∫Ôºâ
                </a-checkbox>
              </a-form-item>
            </a-col>
            <a-col :span="12">
                             <a-form-item name="is_featured" :wrapper-col="{ offset: 4, span: 20 }">
                 <a-checkbox v-model:checked="form.is_featured" size="large">
                   <StarOutlined /> Êé®Ëñ¶ÂïÜÂìÅÔºàÈ¶ñÈ†ÅÂ±ïÁ§∫Ôºâ
                 </a-checkbox>
               </a-form-item>
             </a-col>
           </a-row>
         </a-card>

        <!-- SEO Ë®≠ÂÆö -->
        <a-card title="SEO Ë®≠ÂÆö" size="small" class="form-card">
          <a-form-item label="SEO Ê®ôÈ°å" name="meta_title">
            <a-input 
              v-model:value="form.meta_title" 
              placeholder="Áî®ÊñºÊêúÂ∞ãÂºïÊìéÂÑ™ÂåñÔºåÂª∫Ë≠∞ 50-60 ÂÄãÂ≠óÁ¨¶"
              show-count
              :maxlength="60"
            />
          </a-form-item>

          <a-form-item label="SEO ÊèèËø∞" name="meta_description">
            <a-textarea 
              v-model:value="form.meta_description" 
              :rows="3" 
              placeholder="Áî®ÊñºÊêúÂ∞ãÂºïÊìéÂÑ™ÂåñÔºåÂª∫Ë≠∞ 150-160 ÂÄãÂ≠óÁ¨¶"
              show-count
              :maxlength="160"
            />
          </a-form-item>
        </a-card>

        <!-- Êìç‰ΩúÊåâÈàï -->
        <div class="form-actions">
          <a-space>
            <a-button @click="handleCancel" size="large">ÂèñÊ∂à</a-button>
            <a-button type="primary" @click="handleSubmit" :loading="submitting" size="large">
              <SaveOutlined /> {{ isEditing ? 'Êõ¥Êñ∞ÂïÜÂìÅ' : 'Êñ∞Â¢ûÂïÜÂìÅ' }}
            </a-button>
          </a-space>
        </div>
      </a-form>
    </a-modal>
  </div>
</template>

<script setup>
import { ref, reactive, onMounted, computed } from 'vue'
import { message } from 'ant-design-vue'
import { 
  PlusOutlined, 
  EditOutlined, 
  DeleteOutlined,
  ShopOutlined,
  StarOutlined,
  SaveOutlined
} from '@ant-design/icons-vue'
import axios from '../utils/axios'
import UploadImage from '../components/UploadImage.vue'

// ÈüøÊáâÂºèÊï∏Êìö
const products = ref([])
const loading = ref(false)
const modalVisible = ref(false)
const isEditing = ref(false)
const submitting = ref(false)
const formRef = ref()

// ÊêúÂ∞ãË°®ÂñÆ
const searchForm = reactive({
  search: '',
  status: undefined,
  featured: undefined
})

// ÂàÜÈ†Å
const pagination = reactive({
  current: 1,
  pageSize: 20,
  total: 0,
  showSizeChanger: true,
  showQuickJumper: true
})

// Ë®àÁÆóÁµ±Ë®àÊï∏Êìö
const activeCount = computed(() => 
  products.value.filter(product => product.is_active).length
)
const featuredCount = computed(() => 
  products.value.filter(product => product.is_featured).length
)
const totalStockValue = computed(() => 
  products.value.reduce((total, product) => {
    const price = product.sale_price || product.price || 0
    return total + (price * (product.stock_quantity || 0))
  }, 0)
)

// ÂàÜÈ†ÅË®≠ÂÆö
const paginationConfig = computed(() => ({
  ...pagination,
  showTotal: (total, range) => `È°ØÁ§∫ ${range[0]}-${range[1]} È†ÖÔºåÂÖ± ${total} È†Ö`,
  pageSizeOptions: ['10', '20', '50', '100'],
  showSizeChanger: true,
  showQuickJumper: true
}))

// Â∫´Â≠òÈ°èËâ≤Âà§Êñ∑
const getStockColor = (quantity) => {
  if (quantity === 0) return 'red'
  if (quantity < 10) return 'orange'
  if (quantity < 50) return 'blue'
  return 'green'
}

// Ë°®Ê†ºÊ¨Ñ‰Ωç
const columns = [
  {
    title: 'ÂïÜÂìÅÂúñÁâá',
    key: 'image',
    width: 80
  },
  {
    title: 'ÂïÜÂìÅ‰ø°ÊÅØ',
    key: 'name',
    width: 250
  },
  {
    title: 'ÁÄèË¶ΩÈáè',
    key: 'view_count',
    width: 100,
    sorter: true
  },
  {
    title: 'ÂÉπÊ†º',
    key: 'price',
    width: 120,
    sorter: true
  },
  {
    title: 'Â∫´Â≠ò',
    key: 'stock',
    width: 100,
    sorter: true
  },
  {
    title: 'Êé®Ëñ¶',
    key: 'featured',
    width: 100,
    filters: [
      { text: 'Êé®Ëñ¶', value: true },
      { text: '‰∏ÄËà¨', value: false }
    ]
  },
  {
    title: 'ÁãÄÊÖã',
    key: 'status',
    width: 100,
    filters: [
      { text: 'ÂïüÁî®', value: true },
      { text: 'ÂÅúÁî®', value: false }
    ]
  },
  {
    title: 'Êìç‰Ωú',
    key: 'actions',
    width: 150,
    fixed: 'right'
  }
]

// Ë°®ÂñÆÊï∏Êìö
const form = reactive({
  name: '',
  description: '',
  short_description: '',
  price: null,
  sale_price: null,
  stock_quantity: 0,
  sku: '',
  featured_image: '',
  gallery_images: '',
  is_active: true,
  is_featured: false,
  meta_title: '',
  meta_description: ''
})

// Ë°®ÂñÆÈ©óË≠âË¶èÂâá
const rules = {
  name: [
    { required: true, message: 'Ë´ãËº∏ÂÖ•ÂïÜÂìÅÂêçÁ®±' },
    { min: 2, max: 100, message: 'ÂïÜÂìÅÂêçÁ®±Èï∑Â∫¶ÊáâÂú®2-100Â≠óÁ¨¶‰πãÈñì' }
  ],
  description: [
    { required: true, message: 'Ë´ãËº∏ÂÖ•ÂïÜÂìÅÊèèËø∞' },
    { min: 10, message: 'ÂïÜÂìÅÊèèËø∞Ëá≥Â∞ëÈúÄË¶Å10ÂÄãÂ≠óÁ¨¶' }
  ],
  price: [
    { required: true, message: 'Ë´ãËº∏ÂÖ•ÂïÜÂìÅÂÉπÊ†º' },
    { type: 'number', min: 0, message: 'ÂÉπÊ†º‰∏çËÉΩÁÇ∫Ë≤†Êï∏' }
  ],
  stock_quantity: [
    { required: true, message: 'Ë´ãËº∏ÂÖ•Â∫´Â≠òÊï∏Èáè' },
    { type: 'number', min: 0, message: 'Â∫´Â≠òÊï∏Èáè‰∏çËÉΩÁÇ∫Ë≤†Êï∏' }
  ]
}

// ËºâÂÖ•ÂïÜÂìÅÂàóË°®
const loadProducts = async () => {
  try {
    loading.value = true
    const params = new URLSearchParams()
    
    if (searchForm.search) params.append('search', searchForm.search)
    if (searchForm.status === 'active') params.append('active_only', 'true')
    if (searchForm.status === 'inactive') params.append('active_only', 'false')
    if (searchForm.featured !== undefined) params.append('featured', searchForm.featured)
    
    params.append('skip', ((pagination.current - 1) * pagination.pageSize).toString())
    params.append('limit', pagination.pageSize.toString())
    
    const response = await axios.get(`/api/products?${params}`)
    products.value = response.data
    // Ê≥®ÊÑèÔºöÂØ¶ÈöõÊáâÁî®‰∏≠ÂèØËÉΩÈúÄË¶ÅÂæûÈüøÊáâÈ†≠ÊàñÂÖ∂‰ªñÊñπÂºèÁç≤ÂèñÁ∏ΩÊï∏
    // pagination.total = response.headers['x-total-count'] || products.value.length
  } catch (error) {
    console.error('ËºâÂÖ•ÂïÜÂìÅÂàóË°®ÈåØË™§:', error)
    message.error('ËºâÂÖ•ÂïÜÂìÅÂàóË°®Â§±Êïó')
  } finally {
    loading.value = false
  }
}

// ÊêúÂ∞ãËôïÁêÜ
const handleSearch = () => {
  pagination.current = 1
  loadProducts()
}

// ÈáçÁΩÆÁØ©ÈÅ∏
const resetFilters = () => {
  Object.assign(searchForm, { search: '', status: undefined, featured: undefined })
  pagination.current = 1
  loadProducts()
}

// Ë°®Ê†ºËÆäÂåñËôïÁêÜ
const handleTableChange = (pag) => {
  pagination.current = pag.current
  pagination.pageSize = pag.pageSize
  loadProducts()
}

// È°ØÁ§∫Êñ∞Â¢ûÂ∞çË©±Ê°Ü
const showCreateModal = () => {
  isEditing.value = false
  modalVisible.value = true
  resetForm()
}

// Á∑®ËºØÂïÜÂìÅ
const editProduct = (product) => {
  isEditing.value = true
  modalVisible.value = true
  Object.assign(form, product)
}

// ÈáçÁΩÆË°®ÂñÆ
const resetForm = () => {
  Object.assign(form, {
    name: '', description: '', short_description: '', price: null, sale_price: null,
    stock_quantity: 0, sku: '', featured_image: '', gallery_images: '', is_active: true, is_featured: false, meta_title: '', meta_description: ''
  })
}

// Êèê‰∫§Ë°®ÂñÆ
const handleSubmit = async () => {
  try {
    submitting.value = true
    await formRef.value.validate()
    
    const data = { ...form }
    
    if (isEditing.value) {
      await axios.put(`/api/products/${form.id}`, data)
      message.success('ÂïÜÂìÅÊõ¥Êñ∞ÊàêÂäü')
    } else {
      await axios.post('/api/products', data)
      message.success('ÂïÜÂìÅÊñ∞Â¢ûÊàêÂäü')
    }
    
    modalVisible.value = false
    loadProducts()
  } catch (error) {
    console.error('Êìç‰ΩúÂ§±Êïó:', error)
    message.error('Êìç‰ΩúÂ§±Êïó')
  } finally {
    submitting.value = false
  }
}

// ÂèñÊ∂àÂ∞çË©±Ê°Ü
const handleCancel = () => {
  modalVisible.value = false
  resetForm()
}

// Âà™Èô§ÂïÜÂìÅ
const deleteProduct = async (id) => {
  try {
    await axios.delete(`/api/products/${id}`)
    message.success('ÂïÜÂìÅÂà™Èô§ÊàêÂäü')
    loadProducts()
  } catch (error) {
    console.error('Âà™Èô§Â§±Êïó:', error)
    message.error('Âà™Èô§Â§±Êïó')
  }
}

// ÊéõËºâÊôÇËºâÂÖ•Êï∏Êìö
onMounted(() => {
  loadProducts()
})
</script>

<style scoped>
.products-page {
  padding: 20px;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.filters {
  margin-bottom: 20px;
  padding: 16px;
  background: #fafafa;
  border-radius: 6px;
}

.sale-price {
  color: #f5222d;
  font-weight: bold;
  margin-right: 8px;
}

.original-price {
  text-decoration: line-through;
  color: #999;
}

.stats-row {
  margin-bottom: 20px;
}

.filter-card {
  margin-bottom: 20px;
}

.table-card {
  margin-bottom: 20px;
}

.product-image {
  width: 60px;
  height: 60px;
  overflow: hidden;
  border-radius: 4px;
  margin-right: 16px;
}

.product-info {
  display: flex;
  flex-direction: column;
}

.product-name {
  font-weight: bold;
}

.product-sku {
  margin-top: 4px;
}

.product-description {
  margin-top: 4px;
  color: #999;
}

.price-cell {
  display: flex;
  flex-direction: column;
}

.stock-cell {
  margin-top: 4px;
}

.form-card {
  margin-bottom: 20px;
}

.form-actions {
  margin-top: 20px;
  text-align: right;
}

.product-modal {
  width: 1200px;
}

.form-help-text {
  margin-top: 8px;
  text-align: right;
}
</style> 